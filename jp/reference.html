<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang xml:lang>
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>reference</title>
  <style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}

ul.task-list[class]{list-style: none;}
ul.task-list li input[type="checkbox"] {
font-size: inherit;
width: 0.8em;
margin: 0 0.8em 0.2em -1.6em;
vertical-align: middle;
}
.display.math{display: block; text-align: center; margin: 0.5rem auto;}
</style>
  <style type="text/css">a {text-decoration: none;}
h1 {font-size: 28px;}
h2 {font-size: 22px;}
h3 {font-size: 18px;}
h4 {font-size: 16px;}
body {
background-color: #fdf6e3;
margin: 40px;
padding: 20px;
border: 2px solid gray;
border-radius: 10px;
font-size: 16px;
}
table, th, td {
background-color: #eee8d5;
border: 1px solid gray;
border-collapse: collapse;
padding: 6px;
font-size: 16px;
}
code {
background-color: #f6f8fa;
padding: 6px;
border-radius: 3px;
font-size: 14px;
}
pre {
overflow: hidden;
padding: 0px 16px;
background-color: #f6f8fa;
border: 2px solid gray;
border-radius: 6px;
line-height: 1.9;
font-size: 14px;
}
</style>
</head>
<body>
<h1 id="コマンドリファレンス">コマンドリファレンス</h1>
<h2 id="tipインタープリタの起動オプション">(1)
tipインタープリタの起動オプション</h2>
<pre><code>
$ tip -h
usage: tip [options]

options:(where arg is option&#39;s argument)
 -h : show help message (also &#39;--help&#39;)
 -v : show version (also &#39;--version&#39;)
 -t arg: set window title (default is &quot;tip&quot;)
 -g arg: set window geometry size (default is &quot;800x600&quot;)
 -d arg: set drawing device (default is &quot;xcairo&quot;)
 -e arg : execute a macro file
 --pdf arg : graph is drawn in pdf file (window is not open)
 --png arg : graph is drawn in png file (window is not open)
 </code></pre>
<h2 id="tipインタープリタの構文規則">(2)
tipインタープリタの構文規則</h2>
<h3 id="行の中に複数のコマンドを記述">1行の中に複数のコマンドを記述</h3>
<p>セミコロン<code>;</code>で分離することで複数のコマンドを実行できます</p>
<pre><code>
tip&gt; title &quot;x vs y1 and y2&quot;; plot x y1; plot x y2 (rp:1) 
 </code></pre>
<h3 id="行をコメントアウトする">行をコメントアウトする</h3>
<p><code>#</code> を行頭に置くとその行はコメントアウトされます</p>
<pre><code>
tip&gt; # comment out this line
 </code></pre>
<p>行の途中でコメントアウトするには、<code>;</code>
で分離して<code>#</code>を置きます</p>
<pre><code>
tip&gt; plot x y ;# plotting data x and y  
 </code></pre>
<h3 id="変数">変数</h3>
<ul>
<li><strong>データ変数</strong></li>
</ul>
<p>データ変数は数値（または文字列）の配列で、<a href="ref/set.html">set</a> コマンドによって定義されます</p>
<pre><code>
tip&gt; set n={1,2,3}
tip&gt; set x=sin(n)
 </code></pre>
<p>上の例をC言語風に書くと以下のようなことをやっています</p>
<pre><code>
double n[]={1,2,3};
double x[sizeof(n)]; for(int i=0; i&lt;sizeof(n); i++) x[i]=sin(n[i]);
 </code></pre>
<p>データ変数の情報は <a href="ref/ls.html">ls</a>コマンドで、各要素の値は <a href="ref/cat.html">cat</a>コマンドで表示されます</p>
<pre><code>
tip&gt; ls *
n : data(num) : size=3
x : data(num) : size=3
tip&gt; cat *
n : data(num) :  1 2 3
x : data(num) :  0.84147098481 0.90929742683 0.14112000806
 </code></pre>
<ul>
<li><strong>マクロ変数</strong></li>
</ul>
<p>マクロ変数は数値（または文字列）のスカラー値で、 <a href="ref/var.html">@</a>コマンドによって定義されます<br />
マクロ変数はブラケット<code>[ ]</code>で囲むことで、その値が
フォーマットされた文字列に置換されます<br />
<a href="ref/ls.html">ls</a>コマンドで情報と値の両方が表示されます</p>
<pre><code>
tip&gt; @ n=1
tip&gt; @ x=sin([n])  ;# this is parsed as &quot;@ x=sin(1)&quot;
tip&gt; ls *
n : number [1]
x : number [0.84147098481]
 </code></pre>
<p>マクロ変数はコマンドが解釈される前に文字列に置換されるので、
以下のようなことができます</p>
<pre><code>
tip&gt; @ n=1
tip&gt; @ func=sin
tip&gt; @ ret=x
tip&gt; @ [ret]=[func]([n])  ;# this is parsed as &quot;@ x=sin(1)&quot;
tip&gt; ls *
n : number [1]
x : number [0.84147098481]
func : string [sin]
ret : string [x]
 </code></pre>
<ul>
<li><strong>環境変数</strong></li>
</ul>
<p>シェルの環境変数は、<code>${ }</code>で参照することができます</p>
<pre><code>
tip&gt; prn ${SHELL}
/bin/bash
 </code></pre>
<h2 id="macrotoolのコマンド">(3) MacroToolのコマンド</h2>
<ul>
<li><a href="ref/var.html">@</a> : マクロ変数の定義と値の代入</li>
<li><a href="ref/args.html">args</a> :
マクロファイルの引数のデフォルト値を設定</li>
<li><a href="ref/incr.html">++,--</a> :
数値型マクロ変数のインクリメント(+1), デクリメント(-1)</li>
<li><a href="ref/loop.html">for,do,while,end</a> : for, do, while
ループ</li>
<li><a href="ref/if_fi.html">if,elif,else,fi</a> : 条件分岐</li>
<li><a href="ref/print.html">print</a> : 引数をコンソールに表示</li>
<li><a href="ref/fmt.html">fmt</a> : マクロ変数のフォーマットを設定</li>
<li><a href="ref/wait.html">wait</a> :
指定時間（秒）又はコンソール入力を待つ</li>
<li><a href="ref/sys.html">sys</a> : システムコマンドの実行</li>
<li><a href="ref/split.html">split</a> :
文字列型マクロ変数を指定したデリミタで分離</li>
<li><a href="ref/calc.html">calc</a> : 数値式を評価し結果を出力</li>
<li><a href="ref/logic.html">logic</a> : 論理式を評価し結果を出力</li>
<li>q : tipインタープリタを終了する</li>
</ul>
<h2 id="データの描画及び操作のコマンド">(4)
データの描画及び操作のコマンド</h2>
<ul>
<li><a href="ref/arc.html">arc</a> : 円の描画</li>
<li><a href="ref/box.html">box</a> : 矩形の2次元座標を描画</li>
<li><a href="ref/box3.html">box3</a> : 3次元座標を描画</li>
<li><a href="ref/cat.html">cat</a> : データの値を表示/連結</li>
<li><a href="ref/cut.html">cut</a> : データを指定した条件でカット</li>
<li><a href="ref/div.html">div</a> : 描画領域の分割</li>
<li><a href="ref/elem.html">elem</a> :
データ変数のある要素の値をマクロ変数に代入</li>
<li><a href="ref/exe.html">exe</a> : マクロファイルの実行</li>
<li><a href="ref/fbox.html">fbox</a> : 矩形エリアを塗りつぶす</li>
<li><a href="ref/ffit.html">ffit</a> :
周波数領域のグラフ曲線を指定した関数でフィット</li>
<li><a href="ref/fit.html">fit</a> :
2次元のデータ曲線を指定した関数でフィット</li>
<li><a href="ref/fit3.html">fit3</a> :
3次元のデータ曲線を指定した関数でフィット</li>
<li><a href="ref/fill.html">fill</a> :
2次元データの領域を塗りつぶす</li>
<li><a href="ref/font.html">font</a> : テキストのフォントを指定</li>
<li><a href="ref/fplot.html">fplot</a> :
データを周波数領域でプロット（FFTパワースペクトラム）</li>
<li><a href="ref/help.html">help</a> : 全コマンドリストを表示する</li>
<li><a href="ref/hfit.html">hfit</a> :
1次元ヒストグラムを指定した関数でフィット</li>
<li><a href="ref/hplot.html">hplot</a> :
データの1次元ヒストグラムをプロット</li>
<li><a href="ref/hplot2.html">hplot2</a>:
2つのデータの2次元ヒストグラムをプロット</li>
<li><a href="ref/line.html">line</a> :
指定した区間の線を2次元座標に描画</li>
<li><a href="ref/ls.html">ls</a> :
データ変数、マクロ変数の情報を表示</li>
<li><a href="ref/mplot.html">mplot</a> :
メッシュ（2次元の格子上の値）データを3次元でプロット</li>
<li><a href="ref/mread.html">mread</a> :
メッシュデータをファイルから読み込む</li>
<li><a href="ref/mset.html">mset</a> :
メッシュデータを定義して値を設定する</li>
<li><a href="ref/mwrite.html">mwrite</a>:
メッシュデータをファイルに書き込む</li>
<li><a href="ref/opt.html">opt</a> :
グローバルオプションの値の表示、設定</li>
<li><a href="ref/plot.html">plot</a> : 2つのデータを2次元でプロット</li>
<li><a href="ref/plot3.html">plot3</a> :
3つのデータを3次元でプロット</li>
<li><a href="ref/read.html">read</a> : データをファイルから読み込む</li>
<li><a href="ref/rm.html">rm</a> :
データ変数、マクロ変数をメモリから削除</li>
<li><a href="ref/set.html">set</a> : データ変数の定義と値の代入</li>
<li><a href="ref/sort.html">sort</a> :
指定したデータでインデックスソート（昇順）</li>
<li><a href="ref/stat.html">stat</a> : データの統計情報を表示</li>
<li><a href="ref/symb.html">symb</a> :
指定した2次元座標にシンボルマークを描画</li>
<li><a href="ref/text.html">text</a> :
指定した2次元座標にテキストを描画</li>
<li><a href="ref/title.html">title</a> :
グラフのフレーム上部にタイトルを描画</li>
<li><a href="ref/tfmt.html">tfmt</a> :
x軸を指定したフォーマットで時刻表示にする</li>
<li><a href="ref/vp.html">vp</a> :
ウィンドウに対する描画領域を指定する</li>
<li><a href="ref/write.html">write</a> : データをファイルに書き込む</li>
<li><a href="ref/xerr.html">xerr</a> : x方向の誤差棒をプロットする</li>
<li><a href="ref/xlab.html">xlab</a> : x軸のラベルを指定する</li>
<li><a href="ref/yerr.html">yerr</a> : y方向の誤差棒をプロットする</li>
<li><a href="ref/ylab.html">ylab</a> : y軸のラベルを指定する</li>
<li><a href="ref/zlab.html">zlab</a> : z軸のラベルを指定する</li>
</ul>
<h2 id="epics-ca-のコマンドオプション機能">(5) EPICS CA
のコマンド(オプション機能)</h2>
<ul>
<li><a href="ref/cainfo.html">cainfo</a> :
EPICSレコードの情報を表示</li>
<li><a href="ref/caget.html">caget</a> :
EPICSレコードの値を取得し表示、又は変数に代入</li>
<li><a href="ref/caput.html">caput</a> :
EPICSレコードに値を式、又は変数から代入</li>
<li><a href="ref/camon.html">camon</a> :
EPICSレコードに常時接続しモニタする</li>
<li><a href="ref/cacheck.html">cacheck</a>:
モニタしているEPICSレコードが更新したかチェック</li>
<li><a href="ref/caclose.html">caclose</a>:
モニタしているEPICSレコードの常時接続を閉じる</li>
</ul>
</body>
</html>
